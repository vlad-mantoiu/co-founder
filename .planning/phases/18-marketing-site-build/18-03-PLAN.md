---
phase: 18-marketing-site-build
plan: 03
type: execute
wave: 2
depends_on: [18-02]
files_modified:
  - marketing/src/app/(marketing)/page.tsx
  - marketing/src/components/marketing/insourced-home-content.tsx
  - marketing/src/components/marketing/home-content.tsx
  - marketing/src/components/marketing/how-it-works-section.tsx
  - marketing/src/app/(marketing)/cofounder/page.tsx
  - marketing/src/app/(marketing)/cofounder/how-it-works/page.tsx
autonomous: true
requirements: [MKT-01, MKT-02, MKT-06]

must_haves:
  truths:
    - "Visiting / renders InsourcedHomeContent with parent brand landing page"
    - "Visiting /cofounder renders HomeContent (Co-Founder product page)"
    - "Visiting /cofounder/how-it-works renders a standalone HowItWorks page"
    - "InsourcedHomeContent BottomCTA has a simple CTA button to cofounder.getinsourced.ai/onboarding — no email form"
    - "InsourcedHomeContent hero CTA links to cofounder.getinsourced.ai/onboarding — not /sign-up"
    - "HomeContent hero 'Start Building' links to cofounder.getinsourced.ai/onboarding"
    - "HomeContent 'See How It Works' links to /cofounder/how-it-works"
    - "HomeContent CTA section 'Start Building Free' links to cofounder.getinsourced.ai/onboarding"
    - "FlagshipProduct card 'Start Building' links to cofounder.getinsourced.ai/onboarding"
    - "Co-Founder flagship card in product suite links to /cofounder"
    - "Future product cards (Interview, Swarm, Fund) are NOT clickable"
    - "Zero useState for email/waitlist in InsourcedHomeContent"
    - "`npm run build` still produces /out with all pages"
  artifacts:
    - path: "marketing/src/app/(marketing)/page.tsx"
      provides: "Parent brand landing page serving InsourcedHomeContent"
      contains: "InsourcedHomeContent"
    - path: "marketing/src/app/(marketing)/cofounder/page.tsx"
      provides: "Co-Founder product page"
      contains: "HomeContent"
    - path: "marketing/src/components/marketing/insourced-home-content.tsx"
      provides: "Insourced landing with simple CTA (no waitlist form)"
      contains: "cofounder.getinsourced.ai/onboarding"
    - path: "marketing/src/components/marketing/home-content.tsx"
      provides: "Co-Founder product page content with fixed CTAs"
      contains: "cofounder.getinsourced.ai/onboarding"
    - path: "marketing/src/components/marketing/how-it-works-section.tsx"
      provides: "Extracted HowItWorks standalone component"
      contains: "HowItWorksSection"
    - path: "marketing/src/app/(marketing)/cofounder/how-it-works/page.tsx"
      provides: "Standalone how-it-works page"
      contains: "HowItWorksSection"
  key_links:
    - from: "marketing/src/app/(marketing)/page.tsx"
      to: "marketing/src/components/marketing/insourced-home-content.tsx"
      via: "Direct import, renders InsourcedHomeContent"
      pattern: "InsourcedHomeContent"
    - from: "marketing/src/app/(marketing)/cofounder/page.tsx"
      to: "marketing/src/components/marketing/home-content.tsx"
      via: "Direct import, renders HomeContent"
      pattern: "HomeContent"
    - from: "marketing/src/components/marketing/home-content.tsx"
      to: "marketing/src/app/(marketing)/cofounder/how-it-works/page.tsx"
      via: "'See How It Works' CTA links to /cofounder/how-it-works"
      pattern: "/cofounder/how-it-works"
---

<objective>
Create the parent brand landing page (getinsourced.ai/) and Co-Founder product page (/cofounder), including the extracted /cofounder/how-it-works page.

Purpose: These are the two most important pages on the marketing site. The root page sells the Insourced AI vision and funnels visitors to the flagship product. The /cofounder page is the product page that converts visitors into sign-ups. This plan satisfies MKT-01 (parent brand landing), MKT-02 (Co-Founder product page), and partially MKT-06 (multi-product structure via /cofounder).

Output: Three working pages — /, /cofounder, /cofounder/how-it-works — all building to /out.
</objective>

<execution_context>
@/Users/vladcortex/.claude/get-shit-done/workflows/execute-plan.md
@/Users/vladcortex/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-marketing-site-build/18-RESEARCH.md
@.planning/phases/18-marketing-site-build/18-CONTEXT.md
@.planning/phases/18-marketing-site-build/18-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create InsourcedHomeContent with modified BottomCTA and hero CTAs</name>
  <files>
    marketing/src/components/marketing/insourced-home-content.tsx
  </files>
  <action>
Copy `frontend/src/components/marketing/insourced-home-content.tsx` to `marketing/src/components/marketing/insourced-home-content.tsx` and apply these modifications:

**1. Replace BottomCTA waitlist form with simple CTA button:**
The entire `BottomCTA` function currently has `useState` for email and a form with email input. Replace it completely:

Remove:
- `const [email, setEmail] = useState("")`
- `const [submitted, setSubmitted] = useState(false)`
- The `handleSubmit` function
- The entire `{submitted ? (...) : (<form>...)}` conditional
- The `import { useState } from "react"` if no longer needed

Replace with a simple CTA:
```tsx
function BottomCTA() {
  return (
    <section className="py-20 lg:py-28">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <FadeIn>
          <div className="relative rounded-3xl overflow-hidden p-10 sm:p-16 lg:p-20 text-center">
            <div className="absolute inset-0 bg-gradient-to-br from-brand/15 via-brand/5 to-transparent" />
            <div className="absolute inset-0 glass" />
            <div className="absolute inset-0 bg-grid opacity-20" />
            <div className="relative">
              <h2 className="text-3xl sm:text-4xl lg:text-5xl font-bold tracking-tight">
                Reclaim Your <span className="glow-text">Equity.</span>
              </h2>
              <p className="mt-4 text-lg text-white/45 max-w-xl mx-auto">
                Start building with your AI technical co-founder today.
              </p>
              <div className="mt-10">
                <a
                  href="https://cofounder.getinsourced.ai/onboarding"
                  className="inline-flex items-center justify-center px-10 py-4 bg-brand text-white font-semibold rounded-xl hover:bg-brand-dark transition-all duration-200 shadow-glow hover:shadow-glow-lg text-lg"
                >
                  Start Building Free
                </a>
              </div>
            </div>
          </div>
        </FadeIn>
      </div>
    </section>
  );
}
```

**2. Fix InsourcedHero CTAs:**
- "Hire Your Co-Founder" button: change `href="https://cofounder.getinsourced.ai/sign-up"` to `href="https://cofounder.getinsourced.ai/onboarding"` (per locked decision: main CTA links to onboarding)
- "View The Roadmap" anchor: keep `href="#suite"` (same-page scroll, works fine)

**3. Fix FlagshipProduct CTA:**
- "Start Building" link: change `href="https://cofounder.getinsourced.ai/sign-up"` to `href="https://cofounder.getinsourced.ai/onboarding"`

**4. Add link on Co-Founder flagship card:**
Per locked decision: "Co-Founder flagship card links to /cofounder". Make the FlagshipProduct card heading "Co-Founder.ai" a link to `/cofounder`, or add a "Learn More" link. The "Start Building" button already goes to the app. Add a secondary link:
```tsx
<Link href="/cofounder" className="text-sm text-brand hover:text-brand-light transition-colors">
  Learn more →
</Link>
```

**5. Ensure `Link` from `next/link` is imported for internal links. Use `<a>` for external URLs.**

**6. Remove `useState` import if it's no longer used** (the only usage was in BottomCTA).

**7. Remove `Check` and `motion` imports from BottomCTA section if no longer used.** Check if `Check` is still used in FlagshipProduct badge chips — it is, so keep it. The `motion` import is still used in InsourcedHero, so keep it.
  </action>
  <verify>
1. Grep for `useState` in the file — zero matches (waitlist form removed)
2. Grep for `email` in the file — zero matches (waitlist form removed)
3. Grep for `setSubmitted` — zero matches
4. Grep for `cofounder.getinsourced.ai/sign-up` — zero matches (all changed to /onboarding)
5. Grep for `cofounder.getinsourced.ai/onboarding` — at least 3 matches (hero, flagship, bottom CTA)
6. Grep for `/cofounder"` — at least 1 match (link to product page)
  </verify>
  <done>InsourcedHomeContent migrated with simple CTA (no waitlist), all CTAs pointing to onboarding, flagship card linking to /cofounder.</done>
</task>

<task type="auto">
  <name>Task 2: Create HomeContent (Co-Founder product page) with fixed CTAs</name>
  <files>
    marketing/src/components/marketing/home-content.tsx
  </files>
  <action>
Copy `frontend/src/components/marketing/home-content.tsx` to `marketing/src/components/marketing/home-content.tsx` and apply these modifications:

**1. Fix HeroSection CTAs:**
- "Start Building" button: change `href="/sign-up"` to `href="https://cofounder.getinsourced.ai/onboarding"` and change from `<Link>` to `<a>` (external URL)
- "See How It Works" button: change `href="#how-it-works"` to `href="/cofounder/how-it-works"` (per locked decision — dedicated page). Keep as `<Link>` since it's internal.

**2. Fix CTASection links:**
- "Start Building Free": change `href="/sign-up"` to `href="https://cofounder.getinsourced.ai/onboarding"` and change from `<Link>` to `<a>`
- "View Pricing": keep `href="/pricing"` as-is — pricing is on the marketing site. Keep as `<Link>`.

**3. Keep all section IDs intact:**
- `id="integrations"` on LogoTicker
- `id="features"` on FeatureGrid
- `id="how-it-works"` on HowItWorksSection (still useful for anchor links from /cofounder page itself)

**4. No changes needed to:** ComparisonSection, FeatureGrid, LogoTicker, HowItWorksSection, TestimonialSection, SecuritySection — these have no external links or Clerk dependencies.

**5. Import cleanup:** Remove `Link` from `next/link` ONLY IF no internal links remain. Check: CTASection "View Pricing" still uses `<Link href="/pricing">` and HeroSection "See How It Works" uses `<Link href="/cofounder/how-it-works">`. So `Link` import stays.
  </action>
  <verify>
1. Grep for `href="/sign-up"` — zero matches
2. Grep for `cofounder.getinsourced.ai/onboarding` — at least 2 matches (hero + CTA section)
3. Grep for `/cofounder/how-it-works` — at least 1 match
4. Grep for `href="/pricing"` — at least 1 match (still internal)
5. Grep for `clerk` — zero matches
  </verify>
  <done>HomeContent migrated with all CTAs fixed — external links to app use full URLs, internal marketing links are relative.</done>
</task>

<task type="auto">
  <name>Task 3: Create pages and run build verification</name>
  <files>
    marketing/src/components/marketing/how-it-works-section.tsx
    marketing/src/app/(marketing)/page.tsx
    marketing/src/app/(marketing)/cofounder/page.tsx
    marketing/src/app/(marketing)/cofounder/how-it-works/page.tsx
  </files>
  <action>
**1. Extract HowItWorksSection into standalone component:**
Extract the `HowItWorksSection` function and its `steps` data from `home-content.tsx` into a new standalone component file.

Create `marketing/src/components/marketing/how-it-works-section.tsx`:

```typescript
"use client";

import {
  MessageCircle,
  Code2,
  TestTube,
  Rocket,
} from "lucide-react";
import { FadeIn, StaggerContainer, StaggerItem } from "./fade-in";

const steps = [
  {
    icon: MessageCircle,
    step: "01",
    title: "Describe",
    description:
      "Tell your co-founder what you want to build. Describe features, user stories, and goals in plain English.",
  },
  {
    icon: Code2,
    step: "02",
    title: "Architect & Build",
    description:
      "AI designs the system architecture, writes production-grade code, and creates comprehensive test coverage.",
  },
  {
    icon: TestTube,
    step: "03",
    title: "Review & Correct",
    description:
      "Automated testing catches issues before they ship. You review changes and provide feedback in real time.",
  },
  {
    icon: Rocket,
    step: "04",
    title: "Ship",
    description:
      "Deploy to your infrastructure with a single click. Your app goes live on your domain, under your control.",
  },
];

export default function HowItWorksSection() {
  return (
    <section
      id="how-it-works"
      className="py-24 lg:py-32 border-t border-white/5"
    >
      {/* ... exact same JSX from the HowItWorksSection in home-content.tsx ... */}
    </section>
  );
}
```

Copy the JSX exactly from the existing `HowItWorksSection` in `home-content.tsx`.

Then update `home-content.tsx` to import and use this extracted component instead of the inline function:
```typescript
import HowItWorksSection from "./how-it-works-section";
```
Remove the inline `steps` array and `HowItWorksSection` function from `home-content.tsx`. Remove the now-unused imports (`MessageCircle`, `Code2`, `TestTube`, `Rocket`) from home-content.tsx ONLY IF they are not used elsewhere in that file — check each one.

**2. Root page — marketing/src/app/(marketing)/page.tsx:**
Replace the placeholder from Plan 02. This serves the parent brand landing at getinsourced.ai/.

```typescript
import InsourcedHomeContent from "@/components/marketing/insourced-home-content";

export default function HomePage() {
  return <InsourcedHomeContent />;
}
```

No `force-dynamic`, no `auth()`, no `headers()`. The page is pure static — InsourcedHomeContent is a client component. No metadata override needed here — the root layout metadata covers the Insourced branding.

**3. Co-Founder product page — marketing/src/app/(marketing)/cofounder/page.tsx:**

```typescript
import type { Metadata } from "next";
import HomeContent from "@/components/marketing/home-content";

export const metadata: Metadata = {
  title: "Co-Founder.ai | Your AI Technical Co-Founder",
  description:
    "Stop giving away 50% equity. Your AI technical co-founder architects, codes, tests, and deploys your product. 24/7 autonomous development for a fraction of what you would pay a dev shop.",
};

export default function CofounderPage() {
  return <HomeContent />;
}
```

**4. How It Works page — marketing/src/app/(marketing)/cofounder/how-it-works/page.tsx:**

```typescript
import type { Metadata } from "next";
import HowItWorksSection from "@/components/marketing/how-it-works-section";

export const metadata: Metadata = {
  title: "How It Works | Co-Founder.ai",
  description:
    "From idea to deployed product in four steps. Describe, architect, review, and ship with your AI technical co-founder.",
};

export default function HowItWorksPage() {
  return (
    <div className="pt-20">
      <HowItWorksSection />
    </div>
  );
}
```

**5. Build verification:**
Run `cd /Users/vladcortex/co-founder/marketing && npm run build` and verify:
- Build succeeds with exit code 0
- `out/index.html`, `out/cofounder/index.html`, `out/cofounder/how-it-works/index.html` all exist
- No `/sign-up` references in output HTML
- No `clerk` references in output HTML/JS
  </action>
  <verify>
1. `marketing/src/components/marketing/how-it-works-section.tsx` exists
2. Grep for `export default function HowItWorksSection` in how-it-works-section.tsx — 1 match
3. Grep for `function HowItWorksSection` in home-content.tsx — zero matches (removed inline version)
4. Grep for `import HowItWorksSection` in home-content.tsx — 1 match (imported from extracted file)
5. `ls marketing/out/index.html marketing/out/cofounder/index.html marketing/out/cofounder/how-it-works/index.html` — all exist
6. `grep -r "/sign-up" marketing/out/ --include="*.html"` — zero matches
7. `grep -r "clerk" marketing/out/ --include="*.html" --include="*.js"` — zero matches
  </verify>
  <done>All three pages created and verified. HowItWorksSection extracted. Static build passes with zero Clerk references.</done>
</task>

</tasks>

<verification>
1. `cd /Users/vladcortex/co-founder/marketing && npm run build` exits with code 0
2. `out/index.html` exists — parent brand landing page
3. `out/cofounder/index.html` exists — Co-Founder product page
4. `out/cofounder/how-it-works/index.html` exists — How It Works standalone page
5. Zero `/sign-up` references in output HTML (all changed to full external URLs)
6. Zero `clerk` references in output HTML/JS
7. `cofounder.getinsourced.ai/onboarding` appears in CTAs across pages
8. Adding a future product page only requires creating `app/(marketing)/{product}/page.tsx` — no structural changes
</verification>

<success_criteria>
- Root page renders InsourcedHomeContent (parent brand)
- /cofounder renders HomeContent (Co-Founder product page)
- /cofounder/how-it-works renders extracted HowItWorksSection
- InsourcedHomeContent has NO waitlist form — simple CTA to onboarding
- All sign-up CTAs link to cofounder.getinsourced.ai/onboarding
- FlagshipProduct links to /cofounder (internal) and onboarding (external)
- Future product cards are NOT clickable
- Static build produces all three pages in /out
</success_criteria>

<output>
After completion, create `.planning/phases/18-marketing-site-build/18-03-SUMMARY.md`
</output>
