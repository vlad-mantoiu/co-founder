---
phase: 24-seo-infrastructure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - marketing/src/lib/seo.ts
  - marketing/src/app/layout.tsx
  - marketing/src/app/(marketing)/opengraph-image.png
  - marketing/src/app/(marketing)/opengraph-image.alt.txt
  - marketing/src/app/(marketing)/contact/page.tsx
  - marketing/src/app/(marketing)/contact/contact-content.tsx
autonomous: true
requirements:
  - SEO-02
  - SEO-04
  - SEO-08
  - SEO-10

must_haves:
  truths:
    - "metadataBase is set to https://getinsourced.ai so all OG image URLs resolve to absolute URLs"
    - "Root layout title template uses '| GetInsourced' brand suffix"
    - "Homepage title renders as 'GetInsourced — AI Co-Founder' (no template suffix)"
    - "A 1200x630 PNG image exists at the (marketing) route group level for social sharing previews"
    - "Contact page exports metadata without 'use client' build errors"
    - "Organization JSON-LD has no empty sameAs array"
    - "WebSite JSON-LD is present on homepage with name and url"
  artifacts:
    - path: "marketing/src/lib/seo.ts"
      provides: "Shared OG metadata constants for shallow merge protection"
      exports: ["sharedOG", "SITE_URL"]
    - path: "marketing/src/app/(marketing)/opengraph-image.png"
      provides: "1200x630 branded OG image for social sharing"
    - path: "marketing/src/app/(marketing)/opengraph-image.alt.txt"
      provides: "Alt text for OG image"
    - path: "marketing/src/app/(marketing)/contact/contact-content.tsx"
      provides: "Client component extracted from contact page"
    - path: "marketing/src/app/layout.tsx"
      provides: "Root layout with metadataBase, title template, cleaned JSON-LD"
  key_links:
    - from: "marketing/src/lib/seo.ts"
      to: "all page.tsx files"
      via: "import { sharedOG } from '@/lib/seo'"
      pattern: "sharedOG"
    - from: "marketing/src/app/(marketing)/contact/page.tsx"
      to: "marketing/src/app/(marketing)/contact/contact-content.tsx"
      via: "import ContactContent"
      pattern: "import ContactContent"
---

<objective>
Create the SEO metadata foundation: shared constants, root layout metadata overhaul, static OG image, contact page split, and JSON-LD cleanup.

Purpose: Establish the base infrastructure that all per-page metadata will build upon. Without metadataBase, OG image URLs are relative and break on social platforms. Without seo.ts, every page must duplicate OG fields to avoid shallow merge data loss. Without the contact page split, metadata export fails on build.

Output: `seo.ts` shared constants, updated root layout with metadataBase + cleaned JSON-LD, static OG image, contact page split into server wrapper + client content.
</objective>

<execution_context>
@/Users/vladcortex/.claude/get-shit-done/workflows/execute-plan.md
@/Users/vladcortex/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-seo-infrastructure/24-RESEARCH.md

@marketing/src/app/layout.tsx
@marketing/src/app/(marketing)/contact/page.tsx
@marketing/src/lib/utils.ts
@marketing/next.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create seo.ts shared constants, OG image, and alt text</name>
  <files>
    marketing/src/lib/seo.ts
    marketing/src/app/(marketing)/opengraph-image.png
    marketing/src/app/(marketing)/opengraph-image.alt.txt
  </files>
  <action>
    1. Create `marketing/src/lib/seo.ts` with:
       ```typescript
       export const SITE_URL = 'https://getinsourced.ai'

       export const sharedOG = {
         siteName: 'GetInsourced',
         type: 'website' as const,
         images: [{ url: '/opengraph-image.png', width: 1200, height: 630, alt: 'GetInsourced — AI Co-Founder' }],
       }
       ```
       This module prevents the Next.js shallow merge pitfall — every page spreads `sharedOG` into its `openGraph` metadata to preserve `images` and `siteName`.

    2. Create the static OG image (1200x630 PNG) at `marketing/src/app/(marketing)/opengraph-image.png`:
       - Use a Node.js script with the `canvas` package (npx install temporarily) or sharp to generate a branded image:
         - 1200x630 dimensions
         - Dark gradient background (#0a0a0b to #1a1a2e diagonal)
         - "GetInsourced" text centered in white, large
         - "AI Co-Founder" tagline below in lighter weight
         - Keep it simple — this is a static file committed to the repo
       - Alternative: use ImageMagick (`convert` command) if available
       - Alternative: create a minimal branded PNG using whatever tool is available on the system
       - The file MUST be exactly at `marketing/src/app/(marketing)/opengraph-image.png` — NOT in `public/`. Next.js file conventions require it in the app directory to auto-generate og:image meta tags.

    3. Create `marketing/src/app/(marketing)/opengraph-image.alt.txt` containing:
       ```
       GetInsourced — AI Co-Founder
       ```
       (single line, no trailing newline beyond what the file system requires)
  </action>
  <verify>
    - `cat marketing/src/lib/seo.ts` shows SITE_URL and sharedOG exports
    - `file marketing/src/app/(marketing)/opengraph-image.png` confirms PNG image
    - `identify marketing/src/app/(marketing)/opengraph-image.png` (if ImageMagick available) shows 1200x630 dimensions
    - `cat marketing/src/app/(marketing)/opengraph-image.alt.txt` shows alt text
  </verify>
  <done>
    seo.ts exports sharedOG and SITE_URL. A 1200x630 PNG exists at the correct file convention path. Alt text file exists alongside it.
  </done>
</task>

<task type="auto">
  <name>Task 2: Overhaul root layout metadata and clean up JSON-LD schemas</name>
  <files>
    marketing/src/app/layout.tsx
  </files>
  <action>
    Update `marketing/src/app/layout.tsx`:

    1. Add import: `import { SITE_URL } from '@/lib/seo'` (not sharedOG — root layout does not need to spread it since the opengraph-image.png file convention handles images at the route group level).

    2. Replace the existing `metadata` export with:
       ```typescript
       export const metadata: Metadata = {
         metadataBase: new URL('https://getinsourced.ai'),
         title: {
           default: 'GetInsourced — AI Co-Founder',
           template: '%s | GetInsourced',
         },
         description: 'AI technical co-founder that plans architecture, writes code, runs tests, and ships software for non-technical founders.',
         openGraph: {
           siteName: 'GetInsourced',
           type: 'website',
           locale: 'en_US',
         },
         twitter: {
           card: 'summary_large_image',
         },
         robots: { index: true, follow: true },
       }
       ```
       Key changes from current:
       - ADD `metadataBase: new URL('https://getinsourced.ai')` (SEO-02)
       - UPDATE `title.default` from "Insourced AI | AI Technical Co-Founder..." to "GetInsourced — AI Co-Founder" (per user decision)
       - UPDATE `title.template` from "%s | Insourced AI" to "%s | GetInsourced" (per user decision)
       - UPDATE `description` to research-drafted copy
       - REMOVE `openGraph.title` and `openGraph.description` from root (pages override individually)
       - ADD `openGraph.locale: 'en_US'`
       - REMOVE `twitter.title` and `twitter.description` from root (inherit from page metadata)

    3. Clean up Organization JSON-LD:
       - REMOVE the `sameAs: []` empty array (empty sameAs provides no value and is noise)
       - UPDATE `name` from "Insourced AI" to "GetInsourced" for brand consistency
       - Keep url, logo, description as-is (they are correct)

    4. Clean up WebSite JSON-LD:
       - UPDATE `name` from "Insourced AI" to "GetInsourced"
       - Keep url and description
       - Do NOT add SearchAction (Phase 22 decision: site has no search)

    5. REMOVE the SoftwareApplication JSON-LD block entirely from root layout.
       It will be moved to `/cofounder/page.tsx` in Plan 02 (more semantically accurate placement — the schema describes the Co-Founder.ai product, not the entire site).
  </action>
  <verify>
    - `cd /Users/vladcortex/co-founder/marketing && npx next build` completes without errors
    - `grep -c 'metadataBase' src/app/layout.tsx` returns 1
    - `grep 'GetInsourced' src/app/layout.tsx` shows the updated brand name in title template and JSON-LD
    - `grep -c 'SoftwareApplication' src/app/layout.tsx` returns 0 (removed)
    - `grep -c 'sameAs' src/app/layout.tsx` returns 0 (removed)
  </verify>
  <done>
    Root layout has metadataBase set, title template uses "| GetInsourced", Organization and WebSite JSON-LD are cleaned up, SoftwareApplication is removed (moved in Plan 02).
  </done>
</task>

<task type="auto">
  <name>Task 3: Split contact page into server wrapper + client component</name>
  <files>
    marketing/src/app/(marketing)/contact/page.tsx
    marketing/src/app/(marketing)/contact/contact-content.tsx
  </files>
  <action>
    The current contact page has `"use client"` at the top, which prevents `export const metadata`. Split it:

    1. Create `marketing/src/app/(marketing)/contact/contact-content.tsx`:
       - Copy the entire current content of `contact/page.tsx` into this file
       - Keep `"use client"` directive at the top
       - Rename the component from `ContactPage` to `ContactContent`
       - Export as default: `export default function ContactContent()`
       - Keep all imports (Mail, Clock, MessageCircle, FadeIn)

    2. Replace `marketing/src/app/(marketing)/contact/page.tsx` with a server component wrapper:
       ```typescript
       import type { Metadata } from 'next'
       import ContactContent from './contact-content'

       export const metadata: Metadata = {
         title: 'Contact',
       }

       export default function ContactPage() {
         return <ContactContent />
       }
       ```
       Note: Full metadata (description, canonical, openGraph) will be added in Plan 02. This task only establishes the server/client split so metadata export works.
  </action>
  <verify>
    - `cd /Users/vladcortex/co-founder/marketing && npx next build` completes without "use client" + metadata error
    - `grep -c '"use client"' src/app/(marketing)/contact/page.tsx` returns 0 (no client directive in server wrapper)
    - `grep -c '"use client"' src/app/(marketing)/contact/contact-content.tsx` returns 1
    - `grep 'export const metadata' src/app/(marketing)/contact/page.tsx` confirms metadata export exists
  </verify>
  <done>
    Contact page split into server page.tsx (exports metadata) and client contact-content.tsx (contains interactive JSX). Build succeeds without errors.
  </done>
</task>

</tasks>

<verification>
1. `cd /Users/vladcortex/co-founder/marketing && npx next build` — full build passes
2. `grep 'metadataBase' src/app/layout.tsx` — metadataBase is set
3. `file src/app/(marketing)/opengraph-image.png` — OG image exists and is a PNG
4. `grep -c 'SoftwareApplication' src/app/layout.tsx` — returns 0 (moved out)
5. `grep -c 'sameAs' src/app/layout.tsx` — returns 0 (cleaned up)
6. Build output in `out/` contains the opengraph-image.png
</verification>

<success_criteria>
- metadataBase is set to https://getinsourced.ai in root layout
- Title template uses "| GetInsourced" brand suffix
- seo.ts exports sharedOG with images array and siteName
- 1200x630 PNG exists at app/(marketing)/opengraph-image.png
- Contact page builds without "use client" metadata conflict
- Organization JSON-LD has no empty sameAs
- SoftwareApplication JSON-LD removed from root layout (moved in Plan 02)
- `next build` passes clean
</success_criteria>

<output>
After completion, create `.planning/phases/24-seo-infrastructure/24-01-SUMMARY.md`
</output>
