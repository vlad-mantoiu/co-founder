---
milestone: v0.1
audited: 2026-02-17
status: gaps_found
scores:
  requirements: 73/76
  phases: 11/11
  integration: 14/18
  flows: 2/4
gaps:
  integration:
    - "Build progress hook calls /api/jobs/{id} instead of /api/generation/{id}/status — preview_url, build_version, error_message, debug_id always null"
    - "Strategy graph frontend reads data.links but backend GraphResponse returns edges — graph renders isolated nodes, no relationships"
  flows:
    - "Build flow: Build success page never shows preview URL or build version because polling endpoint returns wrong schema"
    - "Strategy graph flow: No edges rendered in force-graph visualization due to field name mismatch"
  requirements:
    - "GENR-04: E2B preview URL exists but frontend can't display it (wrong polling endpoint)"
    - "GRPH-02: Graph edges exist in backend but frontend reads wrong field name (links vs edges)"
    - "GRPH-05: Graph visualization shows nodes but not edges (field mismatch blocks rendering)"
tech_debt:
  - phase: 02-state-machine-core
    items:
      - "build_failure_count=0 stub in JourneyService (Phase 10 doesn't feed back)"
      - "detect_llm_risks() returns empty list (stub for future LLM risk detection)"
  - phase: 06-artifact-generation-pipeline
    items:
      - "6/10 PDF integration tests deferred (async fixture event loop conflict)"
      - "12 service integration tests deferred (same pytest-asyncio issue)"
  - phase: 07-state-machine-integration-dashboard
    items:
      - "Same build_failure_count=0 TODO as Phase 02"
  - phase: 09-strategy-graph-timeline
    items:
      - "Neo4j dual-write is non-fatal — strategy graph empty when Neo4j not configured (deployment config gap)"
  - phase: 11-cross-phase-frontend-wiring
    items:
      - "Old /company/[id]/* routes still functional alongside new /projects/[id]/* routes (no redirects)"
      - "Old /strategy and /timeline pages have no project context without ?project= param (dead pages)"
---

# Milestone v0.1 Audit Report

## Summary

**Milestone:** v0.1 — AI Co-Founder MVP
**Audited:** 2026-02-17
**Status:** gaps_found

All 11 phases executed and verified. 73 of 76 requirements satisfied. Integration checker found 2 critical cross-phase breaks and 2 structural issues.

## Phase Verification Status

| Phase | Name | Status | Score |
|-------|------|--------|-------|
| 01 | Runner Interface & Test Foundation | passed | 8/8 |
| 02 | State Machine Core | passed | 5/5 |
| 03 | Workspace & Authentication | passed | 5/5 |
| 04 | Onboarding & Idea Capture | passed | 7/7 |
| 05 | Capacity Queue & Worker Model | passed | 6/6 |
| 06 | Artifact Generation Pipeline | passed | 7/7 |
| 07 | State Machine Integration & Dashboard | human_needed | 7/7 |
| 08 | Understanding Interview & Decision Gates | passed | 11/11 |
| 09 | Strategy Graph & Timeline | human_needed | 8/8 |
| 10 | Export, Deploy Readiness & E2E Testing | passed | 17/17 |
| 11 | Cross-Phase Frontend Wiring | passed | 4/4 |

All phases passed automated verification. Phases 7 and 9 flagged for manual browser testing (human_needed).

## Critical Integration Gaps

### Gap 1: Build Progress Polling — Wrong Endpoint

**Affected:** `frontend/src/hooks/useBuildProgress.ts:118`
**Break:** Hook calls `GET /api/jobs/{jobId}` which returns `{ job_id, status, position, message, usage }`. It should call `GET /api/generation/{jobId}/status` which returns the full `{ status, message, preview_url, build_version, error_message, debug_id }`.
**Impact:** Build success page never shows preview URL. Build failure never shows error message or debug ID. `BuildSummary` component never renders because `previewUrl` is always null.
**Requirements affected:** GENR-04 (preview URL visible)
**Fix:** Change `apiFetch(\`/api/jobs/${jobId}\`, getToken)` to `apiFetch(\`/api/generation/${jobId}/status\`, getToken)` in useBuildProgress.ts.

### Gap 2: Strategy Graph — `edges` vs `links` Field Mismatch

**Affected:** `frontend/src/app/(dashboard)/projects/[id]/strategy/page.tsx:96` and `frontend/src/app/(dashboard)/strategy/page.tsx`
**Break:** Backend `GraphResponse` returns `{ nodes, edges }`. Frontend reads `data.links ?? []`, always getting empty array because `links` is undefined.
**Impact:** Force-graph visualization renders isolated nodes. No edges/relationships ever displayed.
**Requirements affected:** GRPH-02 (edges have from/to/relation), GRPH-05 (interactive graph)
**Fix:** Change `data.links` to `data.edges` in both strategy page files and update `GraphResponse` interface to use `edges` instead of `links`.

## Structural Issues (Non-Critical)

### Issue 1: Duplicate Route Hierarchy

Old `company/[id]/*` routes (build, deploy) remain functional alongside new `projects/[id]/*` routes. No redirects from old to new. The `company/[id]/build` page has `handleRetry()` linking back to `/company/${projectId}` instead of new route.

**Recommendation:** Add redirects from old routes to new routes, or delete old route files.

### Issue 2: Legacy Strategy/Timeline Pages

Old `/strategy` and `/timeline` pages (non-project-scoped) still exist. They require `?project=` query param but no navigation creates links with this param anymore. These are dead pages.

**Recommendation:** Convert to redirects or remove (nav links to these pages go nowhere useful).

## Requirements Coverage

### Unsatisfied Requirements (3/76)

| Requirement | Phase | Issue |
|-------------|-------|-------|
| GENR-04 | 10 | Preview URL exists in backend but frontend polls wrong endpoint — user never sees it |
| GRPH-02 | 9 | Edges exist in backend response but frontend reads wrong field name — never displayed |
| GRPH-05 | 9 | Graph is interactive (clickable nodes work) but edges missing breaks relationship visualization |

### Satisfied Requirements (73/76)

All other requirements verified through phase-level VERIFICATION.md files. Key coverage:

- **Auth (4/4):** AUTH-01 through AUTH-04 — all protected routes, provisioning, feature flags
- **Onboarding (5/5):** ONBD-01 through ONBD-05 — dynamic questions, thesis snapshot, resumption
- **Project (4/4):** PROJ-01 through PROJ-04 — creation, persistence, validation, isolation
- **Understanding (6/6):** UNDR-01 through UNDR-06 — interview, brief, error handling, deep research stub
- **Gates (5/5):** GATE-01 through GATE-05 — gate creation, 409 enforcement, narrow/pivot/park
- **Documents (7/7):** DOCS-01 through DOCS-07 — generation, retrieval, versioning, PDF, Markdown
- **Execution Plan (4/4):** PLAN-01 through PLAN-04 — options, selection, persistence, beta gating
- **Generation (6/7):** GENR-01 through GENR-03, GENR-05 through GENR-07 — job lifecycle, workspace files, versioning
- **MVP State (4/4):** MVPS-01 through MVPS-04 — stage transition, dashboard, timeline, graph
- **Solidification (3/3):** SOLD-01 through SOLD-03 — gate, alignment check, decision recording
- **Iteration (3/3):** ITER-01 through ITER-03 — plan references, limits, context
- **Generation v2 (6/6):** GENL-01 through GENL-06 — change requests, patches, rollback, versioning
- **Deploy (3/3):** DEPL-01 through DEPL-03 — readiness, deploy steps, access control
- **Dashboard (4/4):** DASH-01 through DASH-04 — data shape, PM view, empty states, real-time
- **Strategy Graph (3/5):** GRPH-01, GRPH-03, GRPH-04 — node schema, detail, Neo4j backing
- **Timeline (3/3):** TIME-01 through TIME-03 — item schema, Kanban, expandable
- **Decisions (3/3):** DCSN-01 through DCSN-03 — templates, options, recording
- **State Machine (4/4):** STMC-01 through STMC-04 — stages, exit criteria, gate transitions, deterministic progress
- **Worker (6/6):** WORK-01 through WORK-06 — queue, wait time, concurrency, iteration depth, tiers, counters
- **Observability (3/3):** OBSV-01 through OBSV-03 — correlation IDs, debug IDs, timeline refs
- **Beta (2/2):** BETA-01, BETA-02 — feature gating, API flags
- **Contracts (2/2):** CNTR-01, CNTR-02 — stable shapes, empty arrays
- **Runner (3/3):** RUNR-01 through RUNR-03 — protocol, fake, deterministic
- **Chat (2/2):** CHAT-01, CHAT-02 — preserved, de-emphasized

## Tech Debt Summary

| Phase | Items | Severity |
|-------|-------|----------|
| 02 | build_failure_count stub, detect_llm_risks stub | Low |
| 06 | 18 deferred integration tests (async fixture conflict) | Medium |
| 07 | Same build_failure_count stub | Low |
| 09 | Neo4j dual-write non-fatal (deployment config gap) | Medium |
| 11 | Old company/[id] routes not redirected, dead strategy/timeline pages | Low |

**Total:** 8 items across 5 phases

## E2E Flow Status

| Flow | Status | Break Point |
|------|--------|-------------|
| Founder Onboarding → Understanding → Gate | Working | - |
| Auth Protection Chain | Working | - |
| Build Progress → Preview URL | Broken | useBuildProgress.ts:118 polls wrong endpoint |
| Strategy Graph Visualization | Broken | strategy/page.tsx:96 reads `links` instead of `edges` |

## Verified Working Connections

| From | To | Via | Status |
|------|-------|-----|--------|
| Runner (Phase 1) | JourneyService (Phase 2) | Runner protocol | Connected |
| State Machine (Phase 2) | Dashboard (Phase 7) | stage_number, progress_percent | Connected |
| Auth (Phase 3) | All routes | require_auth dependency | Connected |
| Onboarding (Phase 4) | Understanding (Phase 8) | project_id in URL path | Connected |
| Queue (Phase 5) | Generation (Phase 10) | Job model, QueueManager | Connected |
| Artifacts (Phase 6) | Export (Phase 10) | PDF/Markdown exporters | Connected |
| Dashboard (Phase 7) | Gates (Phase 8) | has_pending_gate flag | Connected |
| Understanding (Phase 8) | Graph (Phase 9) | Dual-write (when Neo4j configured) | Connected |
| Build (Phase 10) | Frontend (Phase 11) | Authenticated polling | Connected |

---
*Audited: 2026-02-17*
*Integration checker: gsd-integration-checker (sonnet)*
